/*  Nome: Julia Alice Leao
    Data: 2022-08-05
    -- juliaaliceleao@ufmg  --*/
    
/*Descricao: um programa para determinar se a sequência
de parênteses está bem formada (ou seja,
parênt̃ofechados na ordem inversa
aquela em que foram abertos).*/

//bibliotecas
#include <stdio.h>
#include "pilhas.h"
#include <stdlib.h>

//constantes
#define SUCESSO 0
int
main(int argc, char ** argv)
{
    //Variaveis
    char usuario;   //caracter que sera lido do usuario
    int abertolido = 0, fechado = 0, i;
    int NumParenteses;
    Pilha_lst * pilhadechar;
    
    //Leitura
    printf("Digite o tam. da sequencia de parenteses:\n >");
    scanf("%i", &NumParenteses);
    
    pilhadechar = pilha_lst_cria();
    
    printf("\nDigite a sequencia de parenteses SEPARADAMENTE\n");
    for(i = 0; i < Numchar; i++)
    {
        printf(">");
        getchar();
        scanf("%c", &usuario);
        
        if(usuario =='('|| usuario =='[')
        {
            pilha_lst_push(pilhadechar, usuario);
            abertolido++;//contando abertos lidos
        }
        else
        if(usuario == ')' || usuario ==']' && i > 0)
        {
            char comparacao = pilha_lst_pop(pilhadechar);
            if(comparacao == '('|| comparacao == '[')
            {
                fechado++;  //um par já foi fechado
            }
        }
    }
    if(fechado == abertolido)
    {
        printf("A expressao eh bem formada.");
    }
    else
    {
        printf("A expressão eh mal formada.");
    }
    return SUCESSO; //tudo sobre o controle, o programa retorna sucesso.
}
